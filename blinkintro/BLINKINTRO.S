*
* INTRO TO OOPS! SCREEN
* BY SONIX!!!!
*
* 

	MOVE.W	#32,-(SP)		; SUPERVISOR MODE
	TRAP	#1	
	ADDQ.W	#2,SP
	DC.W	$A00A

	MOVE.L	$44E,A1
	MOVE.L	ART,A0
	MOVE.W	#8000,D0
COPE:	MOVE.L	(A0)+,(A1)+
	DBF	D0,COPE

	MOVE.L	#TEXT,-(SP)
	MOVE.W	#9,-(SP)
	TRAP	#1
	ADDQ.W	#6,SP

	MOVE.L	#DATA,A0	; MUSIK START
	MOVE.L	#$72000,A1	; DESTINATION
	MOVE.L	#3500,D0		; Lï¿½NGD
MCOPY:	MOVE.L	(A0)+,(A1)+	; KOPIERA
	DBF	D0,MCOPY		; IGEN

	JSR	$72000
	
AGAIN:	JSR	OUTPUT
	
	MOVE.W	#11,-(SP)
	TRAP	#1
	ADDQ.W	#2,SP

	CMP.B	#0,D0
	BEQ	AGAIN

	JSR	$72006
	MOVE.W	#$777,$FF8240
	MOVE.W	#$000,$FF825E
	CLR.W	-(SP)
	TRAP	#1

OUTPUT: 	MOVE.W	#9,-(SP)
	MOVE.B	#0,-(SP)
	MOVE.W	#28,-(SP)
	TRAP	#14
	ADDQ.L	#6,SP
	
	CMP	#13,D0
	BHI	LED
	
COL:	MOVE.L	#COLTAB,A0
	MOVE.L	#COLTAB2,A1
	MULU	#2,D0
	ADD.L	D0,A0
	ADD.L	D0,A1
	MOVE.W	(A0),$FF8240
	MOVE.W	(A1),$FF825E

	RTS

LED:	MOVE.W	#1,-(SP)
	MOVE.W	#29,-(SP)
	TRAP	#14
	ADDQ.L	#4,SP

	MOVE.W	#66,-(SP)
	MOVE.W	#30,-(SP)
	TRAP	#14
	ADDQ.L	#4,SP

	BRA	COL
	
TEXT:	
	DC.B	"SONIX OF STEELWINGS PRESENTS OOPS SCREEN",10,13  
	DC.B	"         PRESS ANY KEY TO GO ON",10,13,0
DATA:	INCBIN	ANY.MUS	; MUSIKEN
COLTAB	DC.W	$000,$000,$111,$111,$222,$222,$333,$333,$444,$444,$555,$555,$666,$666,$777,$777
COLTAB2	DC.W	$777,$777,$666,$666,$555,$555,$444,$444,$333,$333,$222,$222,$111,$111,$000,$000
DEGAS:	INCBIN	GOODBACK.PI1
ART:	DC.L	DEGAS+34